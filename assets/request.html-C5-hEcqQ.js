import{B as v}from"./Button-CB_x08L5.js";import{d as y,aa as w,ac as C,_ as N,ad as m,o as p,g as n,a as o,e as d,ae as k,f as i,Y as g,c as x,r as R}from"./app-7wOqNy3E.js";import{N as T}from"./text-CyCaVUVh.js";import{N as b}from"./Card-BX2fIlU9.js";import{N as S}from"./Input-DoOzSYSz.js";import"./browser-Hv7mtnOh.js";const f="https://alist.nn.ci/tool/google/callback",q=y({__name:"Request",setup(c,{expose:t}){t();function s(){window.open("https://console.developers.google.com/","_blank")}const e={client_id:"202264815644.apps.googleusercontent.com",auth_uri:"https://accounts.google.com/o/oauth2/auth",token_uri:"https://oauth2.googleapis.com/token",auth_provider_x509_cert_url:"https://www.googleapis.com/oauth2/v1/certs",client_secret:"X4Z3ca8xfWDb1Voo-F9a7ZxJ",redirect_uri:"http://127.0.0.1:53682/"},r=w({client_id:"",client_secret:"",redirect_uri:""});function u(){r.client_id=e.client_id,r.client_secret=e.client_secret,r.redirect_uri=e.redirect_uri}function a(){r.client_id="",r.client_secret="",r.redirect_uri=f}function h(){const l=new URL("https://accounts.google.com/o/oauth2/auth");l.searchParams.set("client_id",r.client_id),l.searchParams.set("response_type","code"),l.searchParams.set("redirect_uri",r.redirect_uri),l.searchParams.set("scope","openid profile https://www.googleapis.com/auth/drive https://www.googleapis.com/auth/photoslibrary"),l.searchParams.set("access_type","offline"),l.searchParams.set("prompt","consent"),l.searchParams.set("state",btoa(`${r.client_id}::${r.client_secret}::${r.redirect_uri}`)),window.open(l.toString(),"_blank")}const _={createClient:s,rclone:e,alist_redirect_uri:f,data:r,useRClone:u,useOwn:a,goGet:h,get NButton(){return v},get NSpace(){return C},get NInput(){return S},get NCard(){return b},get NText(){return T}};return Object.defineProperty(_,"__isScriptSetup",{enumerable:!1,value:!0}),_}});function B(c,t,s,e,r,u){return p(),m(e.NSpace,{vertical:"",size:"large"},{default:n(()=>[o(e.NSpace,{justify:"center"},{default:n(()=>[o(e.NButton,{size:"large",secondary:"",onClick:e.createClient},{default:n(()=>t[3]||(t[3]=[i("Create client")])),_:1}),o(e.NButton,{size:"large",type:"primary",onClick:e.useRClone},{default:n(()=>t[4]||(t[4]=[i("Use RClone client")])),_:1}),o(e.NButton,{size:"large",type:"info",onClick:e.useOwn},{default:n(()=>t[5]||(t[5]=[i("Use own client")])),_:1})]),_:1}),t[10]||(t[10]=d("h4",null,"client_id",-1)),o(e.NInput,{size:"large",value:e.data.client_id,"onUpdate:value":t[0]||(t[0]=a=>e.data.client_id=a)},null,8,["value"]),t[11]||(t[11]=d("h4",null,"client_secret",-1)),o(e.NInput,{size:"large",value:e.data.client_secret,"onUpdate:value":t[1]||(t[1]=a=>e.data.client_secret=a)},null,8,["value"]),t[12]||(t[12]=d("h4",null,"redirect_uri",-1)),o(e.NInput,{size:"large",value:e.data.redirect_uri,"onUpdate:value":t[2]||(t[2]=a=>e.data.redirect_uri=a)},null,8,["value"]),o(e.NButton,{size:"large",type:"primary",block:"",onClick:e.goGet},{default:n(()=>t[6]||(t[6]=[i("Go get")])),_:1}),e.data.client_id===e.rclone.client_id?(p(),m(e.NCard,{key:0,title:"If you use rclone client"},{default:n(()=>[t[7]||(t[7]=i(" Replace ")),o(e.NText,{code:""},{default:n(()=>[i(g(e.rclone.redirect_uri),1)]),_:1}),t[8]||(t[8]=i(" with ")),o(e.NText,{code:""},{default:n(()=>[i(g(e.alist_redirect_uri))]),_:1}),t[9]||(t[9]=i(" after oauth. "))]),_:1})):k("",!0)]),_:1})}const G=N(q,[["render",B],["__scopeId","data-v-925a1ee2"],["__file","Request.vue"]]),P=y({__name:"request.html",setup(c,{expose:t}){t();const s={get Request(){return G}};return Object.defineProperty(s,"__isScriptSetup",{enumerable:!1,value:!0}),s}});function z(c,t,s,e,r,u){const a=R("NaiveClient");return p(),x("div",null,[o(a,null,{default:n(()=>[o(e.Request)]),_:1})])}const j=N(P,[["render",z],["__file","request.html.vue"]]),D=JSON.parse('{"path":"/tool/google/request.html","title":"Get Google Refresh Token","lang":"en-US","frontmatter":{"title":"Get Google Refresh Token","toc":false,"head":[["meta",{"property":"og:url","content":"https://alist.nn.ci/tool/google/request.html"}],["meta",{"property":"og:site_name","content":"AList Docs"}],["meta",{"property":"og:title","content":"Get Google Refresh Token"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2023-02-17T10:04:34.000Z"}],["meta",{"property":"article:modified_time","content":"2023-02-17T10:04:34.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Get Google Refresh Token\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2023-02-17T10:04:34.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Andy Hsu\\",\\"url\\":\\"https://i.nn.ci\\"}]}"]]},"headers":[],"git":{"createdTime":1676628274000,"updatedTime":1676628274000,"contributors":[{"name":"Andy Hsu","username":"Andy Hsu","email":"i@nn.ci","commits":1,"url":"https://github.com/Andy Hsu"}]},"readingTime":{"minutes":0.07,"words":20},"filePathRelative":"tool/google/request.md","localizedDate":"February 17, 2023"}');export{j as comp,D as data};
