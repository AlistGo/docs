import{d as k,O as g,V as h,ag as N,ac as C,_ as b,ad as i,o as n,g as p,f as s,Y as d,e as o,ae as v,a as f,c as S,r as T}from"./app-K34Aos0E.js";import{N as P}from"./Input-04jHTtK1.js";import{N as x}from"./Alert-CKlm5BJY.js";import"./browser-CYFPQBQD.js";const A="iYCeC9g08h5vuP9UqvPHKKSVrKFXGa1v",B="jXiFMOPVPCWlO2M5CwWQzffpNPaGTRBG",w="https://alist.nn.ci/tool/baidu/callback",R=k({__name:"Callback",setup(u,{expose:t}){t();const r=new URL(window.location.href),e=r.searchParams.get("code"),_=r.searchParams.get("error"),m=r.searchParams.get("error_description"),a=g(),l=async()=>{const y=await(await fetch(`${h()}/alist/baidu/get_refresh_token?code=${e}`)).json();a.value=y};e&&!_&&l();const c={client_id:A,client_secret:B,callback_uri:w,url:r,code:e,error:_,error_description:m,token:a,getToken:l,get NAlert(){return x},get NSpace(){return C},get NSpin(){return N},get NInput(){return P}};return Object.defineProperty(c,"__isScriptSetup",{enumerable:!1,value:!0}),c}});function V(u,t,r,e,_,m){return!e.code||e.error?(n(),i(e.NAlert,{key:0,title:e.error||"Error",type:"error"},{default:p(()=>[s(d(e.error_description),1)]),_:1},8,["title"])):(n(),i(e.NSpace,{key:1,vertical:"",size:"large"},{default:p(()=>{var a,l,c;return[o("p",null,[t[0]||(t[0]=o("b",null,"client_id: ",-1)),s(d(e.client_id))]),o("p",null,[t[1]||(t[1]=o("b",null,"client_secret: ",-1)),s(d(e.client_secret))]),o("p",null,[t[2]||(t[2]=o("b",null,"redirect_uri: ",-1)),s(d(e.callback_uri))]),(a=e.token)!=null&&a.error||(l=e.token)!=null&&l.error_description?(n(),i(e.NAlert,{key:0,title:(c=e.token)==null?void 0:c.error,type:"error"},{default:p(()=>[s(d(e.token.error_description),1)]),_:1},8,["title"])):v("",!0),f(e.NSpace,{vertical:""},{default:p(()=>[t[3]||(t[3]=o("b",null,"refresh_token:",-1)),e.token?(n(),i(e.NInput,{key:1,type:"textarea",autosize:"",readonly:"",value:e.token.refresh_token},null,8,["value"])):(n(),i(e.NSpin,{key:0}))]),_:1})]}),_:1}))}const O=b(R,[["render",V],["__scopeId","data-v-ec73cb46"],["__file","Callback.vue"]]),j=k({__name:"callback.html",setup(u,{expose:t}){t();const r={get Callback(){return O}};return Object.defineProperty(r,"__isScriptSetup",{enumerable:!1,value:!0}),r}});function H(u,t,r,e,_,m){const a=T("NaiveClient");return n(),S("div",null,[f(a,null,{default:p(()=>[f(e.Callback)]),_:1})])}const G=b(j,[["render",H],["__file","callback.html.vue"]]),K=JSON.parse('{"path":"/tool/baidu/callback.html","title":"Baidu Refresh Token Callback","lang":"en-US","frontmatter":{"title":"Baidu Refresh Token Callback","toc":false,"head":[["meta",{"property":"og:url","content":"https://alist.nn.ci/tool/baidu/callback.html"}],["meta",{"property":"og:site_name","content":"AList Docs"}],["meta",{"property":"og:title","content":"Baidu Refresh Token Callback"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2023-02-16T12:59:17.000Z"}],["meta",{"property":"article:modified_time","content":"2023-02-16T12:59:17.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Baidu Refresh Token Callback\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2023-02-16T12:59:17.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Andy Hsu\\",\\"url\\":\\"https://i.nn.ci\\"}]}"]]},"headers":[],"git":{"createdTime":1676541915000,"updatedTime":1676552357000,"contributors":[{"name":"Andy Hsu","username":"Andy Hsu","email":"i@nn.ci","commits":4,"url":"https://github.com/Andy Hsu"}]},"readingTime":{"minutes":0.07,"words":20},"filePathRelative":"tool/baidu/callback.md","localizedDate":"February 16, 2023"}');export{G as comp,K as data};
