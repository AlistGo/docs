import{d as D,h as d,r as m,o as v,c as g,b as e,e as o,a as l,I as x,an as C,v as K,w as c,f as r,aw as f,_ as F}from"./app-HaiU68V2.js";import{_ as q,a as P,b as R,c as S}from"./add_error-AMr3rcUA.js";const A=r('<h1 id="_115-网盘-分享" tabindex="-1"><a class="header-anchor" href="#_115-网盘-分享" aria-hidden="true">#</a> 115 网盘/分享</h1><h2 id="_115-个人网盘" tabindex="-1"><a class="header-anchor" href="#_115-个人网盘" aria-hidden="true">#</a> 115 个人网盘</h2><h3 id="根文件夹-id" tabindex="-1"><a class="header-anchor" href="#根文件夹-id" aria-hidden="true">#</a> <strong>根文件夹 ID</strong></h3><p>打开 115 网盘官网，点击进入要设置的文件夹时点击 URL 中 <code>cid</code>后面的数字</p>',4),I={href:"https://115.com/?cid=249163533602609229&offset=0&tab=&mode=wangpan",target:"_blank",rel:"noopener noreferrer"},L=e("p",null,[o("这个文件夹的 "),e("code",null,"根文件夹ID"),o(" 即为 "),e("code",null,"249163533602609229")],-1),J=e("br",null,null,-1),Q=e("h3",{id:"qrcode-扫码方式登录",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#qrcode-扫码方式登录","aria-hidden":"true"},"#"),o(),e("strong",null,"QRCode 扫码方式登录")],-1),W=["disabled"],G=e("br",null,null,-1),N=e("br",null,null,-1),T={style:{margin:"4px"}},U=["src"],V={class:"hint-container info"},Z={class:"hint-container-title"},O=r('<br><h3 id="cookie-方式登录" tabindex="-1"><a class="header-anchor" href="#cookie-方式登录" aria-hidden="true">#</a> <strong>Cookie 方式登录</strong></h3><p><code>Cookie</code>可以浏览器登录从浏览器的<code>api</code>中获取，也可用抓包 115 应用获取 cookie，115 应用的有效期比较长，注意 cookie 最后不要有<code>;</code>。</p><br><h3 id="秒传" tabindex="-1"><a class="header-anchor" href="#秒传" aria-hidden="true">#</a> <strong>秒传</strong></h3><ul><li><strong>v.3.27.0</strong> 版本 增强秒传：可以直接通过复制方式来和<code>阿里云盘Open</code>进行相互秒传文件 <ul><li>前提是要从115秒传到阿里云盘Open的文件，阿里云盘Open已经存在，否则就是正常复制任务。</li><li>如果将115的文件秒传到阿里云盘，需要将阿里云盘的秒传选项打开否则为正常模式上传</li></ul></li></ul><p>如果要使用秒传来上传文件建议在自己家用电脑本地搭建一个AList添加一个<code>本地存储</code>和<code>115云盘</code>进行复制秒传这样节省资源。</p><br><h3 id="离线下载" tabindex="-1"><a class="header-anchor" href="#离线下载" aria-hidden="true">#</a> <strong>离线下载</strong></h3><p>v3.36.0以上版本支持在AList调用115网盘离线下载功能</p>',10),B={style:{color:"rgb(24, 144, 255)"}},E={fill:"none","stroke-width":"0",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"toolbar-toggle hope-icon hope-c-XNyZK hope-c-PJLV hope-c-PJLV-ifkxHPo-css",height:"1em",width:"1em",style:{overflow:"visible"}},X=e("path",{fill:"currentColor",d:"M7 14a2 2 0 100-4 2 2 0 000 4zM14 12a2 2 0 11-4 0 2 2 0 014 0zM17 14a2 2 0 100-4 2 2 0 000 4z"},null,-1),Y=e("path",{fill:"currentColor","fill-rule":"evenodd",d:"M24 12c0 6.627-5.373 12-12 12S0 18.627 0 12 5.373 0 12 0s12 5.373 12 12zm-2 0c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2s10 4.477 10 10z","clip-rule":"evenodd"},null,-1),H=[X,Y],$={style:{color:"rgb(24, 144, 255)"}},j={fill:"currentColor","stroke-width":"0",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",class:"hope-icon hope-c-XNyZK hope-c-PJLV hope-c-PJLV-iipViGO-css",tips:"offline_download",height:"1em",width:"1em",style:{overflow:"visible"}},ee=e("path",{fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32",d:"M421.83 293.82A144 144 0 00218.18 90.17M353.94 225.94a48 48 0 00-67.88-67.88"},null,-1),oe=e("path",{"stroke-linecap":"round","stroke-miterlimit":"10","stroke-width":"32",d:"M192 464v-48M90.18 421.82l33.94-33.94M48 320h48"},null,-1),te=e("path",{fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"32",d:"M286.06 158.06L172.92 271.19a32 32 0 01-45.25 0L105 248.57a32 32 0 010-45.26L218.18 90.17M421.83 293.82L308.69 407a32 32 0 01-45.26 0l-22.62-22.63a32 32 0 010-45.26l113.13-113.17M139.6 169.98l67.88 67.89M275.36 305.75l67.89 67.88"},null,-1),se=[ee,oe,te],ae=e("code",null,"115 Cloud",-1),ne=r('<ul><li>支持：<code>magne</code>、<code>http</code>、 <code>ed2k</code> 链接</li></ul><p>仅支持使用115网盘离线下载，非115网盘会提示如下错误：</p><ul><li>unsupported storage driver for offline download, only 115 Cloud is supported</li></ul><br><h3 id="默认使用的下载方式" tabindex="-1"><a class="header-anchor" href="#默认使用的下载方式" aria-hidden="true">#</a> <strong>默认使用的下载方式</strong></h3>',5),ie=r('<h2 id="_115网盘分享" tabindex="-1"><a class="header-anchor" href="#_115网盘分享" aria-hidden="true">#</a> <strong>115网盘分享</strong></h2><p><img src="'+R+'" alt="url_demo"></p><p><code>分享链接ID</code><sup>1</sup> 和 <code>分享链接提取码</code><sup>2</sup> 分别如何获取一目了然</p><h3 id="根文件夹id" tabindex="-1"><a class="header-anchor" href="#根文件夹id" aria-hidden="true">#</a> <strong>根文件夹ID</strong></h3><p>默认为空，挂载整个目录文件。</p><p>文件夹ID 分根文件夹ID和子文件夹ID，下面分别演示了如何获取<code>分享根文件夹目录ID</code><sup>1</sup>以及<code>其它子文件夹目录ID</code><sup>2</sup></p>',6),de=e("p",null,"打开开发者模式(F12)先将请求全部清空，我们进入文件夹，先将全部请求清空，",-1),re=e("p",null,[o("我们再点击根文件夹进入，右侧会有一个新的请求，然后选择"),e("code",null,"载荷"),o("就能看到我们的这个文件夹的ID (cid)")],-1),le=e("p",null,[e("img",{src:q,alt:"url_demo"})],-1),ce=e("p",null,"打开开发者模式(F12)先将请求全部清空，我们进入文件夹，先将全部请求清空，",-1),he=e("p",null,[o("右侧会有一个新的请求，然后选择"),e("code",null,"预览"),o(" 然后进行展开查看，就可以看到其它子文件夹的ID (cid)")],-1),ue=e("p",null,[e("img",{src:P,alt:"url_demo"})],-1),pe=r('<br><h3 id="错误提示" tabindex="-1"><a class="header-anchor" href="#错误提示" aria-hidden="true">#</a> <strong>错误提示</strong></h3><p>例如下图所示的115分享链接分享过期，但是分享链接还能打开</p><p><img src="'+S+'" alt="url_demo"></p><p>但是在添加保存时候会出现如下错误码：</p><p><code>Failed init storage but storage is already created: failed init storage: failed to get share snap: json: cannot unmarshal number into Go struct field .data.shareinfo.share_state of type string </code></p><h3 id="默认使用的下载方式-1" tabindex="-1"><a class="header-anchor" href="#默认使用的下载方式-1" aria-hidden="true">#</a> <strong>默认使用的下载方式</strong></h3>',7),_e=D({__name:"115.html",setup(me){const a=d("获取二维码"),t=d(0),h=d(""),u=d(""),n=d(""),M=async()=>{a.value="等待...",t.value=1;const s=await(await fetch(`${f()}/proxy/qrcodeapi.115.com/api/1.0/web/1.0/token`)).json();console.log(s),a.value="使用115网盘 APP 扫描然后点击",t.value=2,n.value={uid:s.data.uid,time:s.data.time.toString(),sign:s.data.sign,_:(new Date().getTime()/1e3).toString()},h.value=`${f()}/qr/?size=400&text=${encodeURIComponent(s.data.qrcode)}`},y=async()=>{t.value=3,a.value="等待...";const s=await(await fetch(`${f()}/proxy/qrcodeapi.115.com/get/status/?uid=${n.value.uid}&time=${n.value.time}&sign=${n.value.sign}&_=${n.value._}`)).json(),{data:{version:k,status:i,msg:w}}=s;if(i!==2){t.value=2,a.value="使用115网盘 APP 扫描然后点击",alert("Status:"+i);return}u.value=n.value.uid,a.value="获取 Token 成功",t.value=4,console.log(s)},z=async()=>{t.value===0&&M(),t.value===2&&y()};return(b,s)=>{const k=m("ExternalLinkIcon"),i=m("Mermaid"),w=m("Tabs");return v(),g("div",null,[A,e("p",null,[o("如 "),e("a",I,[o("https://115.com/?cid=249163533602609229&offset=0&tab=&mode=wangpan"),l(k)])]),L,J,Q,e("p",null,[e("button",{disabled:t.value===3||t.value===1,style:{outline:"none",padding:"12px",background:"#70c6be",border:"none","border-radius":"8px",cursor:"pointer","font-size":"20px"},onClick:z},[G,o(" "+x(a.value),1),N],8,W)]),C(e("div",T,[e("img",{src:h.value},null,8,U)],512),[[K,h.value]]),C(e("div",null,[e("div",V,[e("p",Z,"Token: "+x(u.value),1)])],512),[[K,u.value]]),O,e("p",null,[o("右下角选择 "),e("span",B,[(v(),g("svg",E,H))]),e("span",$,[(v(),g("svg",j,se))]),o("离线下载选项选择"),ae]),ne,l(i,{id:"mermaid-95",code:"eJzT1dXlKsksyUm1Uni5e8aLdUue7N3/fMqK57Nank5e9Xx575Md3S/27n02befTPf3v98znAqlPy8kvT85ILCpRCHHiUgCC4pLKnFSFREOFtMycHCvlpKQ0neKSovzsVCvlNDMzKFu3PDOlJMPKqKBCJzk/J78IKJeWhqzdCKo9Lc3c1NwUboKxsTGqCSYFFRBtpUnpRYkFGQqZKamGCtEKsWDRREMwlZqXAuVGGxsYxVpZWRXn56Ym5yQWF9sCQQ3EszWJRtFA3z7r2P5i3b6nS9ohRoBVuaSmKcC1wFxmaQZRYBj9bM6aZ3N2Pdm9+PmEtlhdPaDelw2derp2WA1MMoyGqAwN8iGoODknMzkbFJhKenr6KUWZZalFxfrJ+bm5+Xl6GSW5OcrlqUkpiWW6z9dOez51qRKSniQy9CQTrQcAkHnb9A=="}),ie,l(w,{id:"114",data:[{id:"1分享根文件夹目录ID"},{id:"2其它子文件夹目录ID"}],"tab-id":"115"},{title0:c(({value:p,isActive:_})=>[o("1分享根文件夹目录ID")]),title1:c(({value:p,isActive:_})=>[o("2其它子文件夹目录ID")]),tab0:c(({value:p,isActive:_})=>[de,re,le]),tab1:c(({value:p,isActive:_})=>[ce,he,ue]),_:1}),pe,l(i,{id:"mermaid-157",code:"eJzT1dXlKsksyUm1Uni5e8aLdUue7N3/fMqK57Nank5e9Xx575Md3S/27n02befTPf3v98znAqlPy8kvT85ILCpRCHHiUgCC4pLKnFSFREOFtMycHCvlpKQ0neKSovzsVCvlNDMzKFu3PDOlJMPKqKBCJzk/J78IKJeWhqzdCKo9Lc3c1NwUboKxsTGqCSYFFRBtpUnpRYkFGQqZKamGCtEKsWDRREMwlZqXAuVGGxsYxVpZWRXn56Ym5yQWF9sCQQ3EszWJRtFA3z7r2P5i3b6nS9ohRoBVuaSmKcC1wFxmaQZRYBj9bM6aZ3N2Pdm9+PmEtlhdPaDelw2derp2WA1MMoyGqAwN8iGoODknMzkbFJhKenr6KUWZZalFxfrJ+bm5+Xl6GSW5OcrlqUkpiWW6z9dOez51qRKSniQy9CQTrQcAkHnb9A=="})])}}}),fe=F(_e,[["__file","115.html.vue"]]);export{fe as default};
