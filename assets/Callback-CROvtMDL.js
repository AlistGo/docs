import{d as y,r as N,c as o,u as r,o as s,w as i,e as l,t as n,f as a,b as g,a as w,N as f,a4 as C,g as x,_ as h}from"./app-B4cX6APU.js";import{N as m}from"./Alert-5FhQQ1ko.js";import{N as z}from"./Input-egpY6pCg.js";const P="pUDkGaXPzPTURu49az6lqoUHcHsCdY9G",T="WF8Dp6oLkBa600nTWkhdMvVsF6lh66zS",V="https://alistgo.com/tool/baidu/callback",B=y({__name:"Callback",setup(S){const c=new URL(window.location.href),u=c.searchParams.get("code"),p=c.searchParams.get("error"),v=c.searchParams.get("error_description"),t=N();return u&&!p&&(async()=>{const e=await(await fetch(`${x()}/alist/baidu/get_refresh_token?code=${u}`)).json();t.value=e})(),(b,e)=>!r(u)||r(p)?(s(),o(r(m),{key:0,title:r(p)||"Error",type:"error"},{default:i(()=>[l(n(r(v)),1)]),_:1},8,["title"])):(s(),o(r(f),{key:1,vertical:"",size:"large"},{default:i(()=>{var d,_,k;return[a("p",null,[e[0]||(e[0]=a("b",null,"client_id: ",-1)),l(n(P))]),a("p",null,[e[1]||(e[1]=a("b",null,"client_secret: ",-1)),l(n(T))]),a("p",null,[e[2]||(e[2]=a("b",null,"redirect_uri: ",-1)),l(n(V))]),(d=t.value)!=null&&d.error||(_=t.value)!=null&&_.error_description?(s(),o(r(m),{key:0,title:(k=t.value)==null?void 0:k.error,type:"error"},{default:i(()=>[l(n(t.value.error_description),1)]),_:1},8,["title"])):g("",!0),w(r(f),{vertical:""},{default:i(()=>[e[3]||(e[3]=a("b",null,"refresh_token:",-1)),t.value?(s(),o(r(z),{key:1,type:"textarea",autosize:"",readonly:"",value:t.value.refresh_token},null,8,["value"])):(s(),o(r(C),{key:0}))]),_:1,__:[3]})]}),_:1}))}}),H=h(B,[["__scopeId","data-v-506dd168"]]);export{H as C};
