import{d as I,h as d,r as m,o as F,c as S,b as e,e as a,a as r,I as x,an as k,v as C,w as c,f as l,aw as g,_ as R}from"./app-BePPvkWY.js";import{_ as y,a as W,b as P,c as T}from"./add_error-AMr3rcUA.js";const J=l('<h1 id="_115-网盘-分享" tabindex="-1"><a class="header-anchor" href="#_115-网盘-分享" aria-hidden="true">#</a> 115 网盘/分享</h1><h2 id="_115-个人网盘" tabindex="-1"><a class="header-anchor" href="#_115-个人网盘" aria-hidden="true">#</a> 115 个人网盘</h2><div class="hint-container tip"><p class="hint-container-title">提示</p><p>由于 115 网盘的限制，下载必须携带 Cookies，所以只能使用本程序中的代理功能进行传输。 （可以用其他机器转）</p></div><h3 id="根文件夹-id" tabindex="-1"><a class="header-anchor" href="#根文件夹-id" aria-hidden="true">#</a> <strong>根文件夹 ID</strong></h3><p>打开 115 网盘官网，点击进入要设置的文件夹时点击 URL 中 <code>cid</code>后面的数字</p>',5),U={href:"https://115.com/?cid=249163533602609229&offset=0&tab=&mode=wangpan",target:"_blank",rel:"noopener noreferrer"},w=e("p",null,[a("这个文件夹的 "),e("code",null,"根文件夹ID"),a(" 即为 "),e("code",null,"249163533602609229")],-1),z=e("br",null,null,-1),M=e("h3",{id:"qrcode-扫码方式登录",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#qrcode-扫码方式登录","aria-hidden":"true"},"#"),a(),e("strong",null,"QRCode 扫码方式登录")],-1),N=["disabled"],A=e("br",null,null,-1),Q=e("br",null,null,-1),E={style:{margin:"4px"}},L=["src"],Z={class:"hint-container info"},B={class:"hint-container-title"},G=l('<br><h3 id="cookie-方式登录" tabindex="-1"><a class="header-anchor" href="#cookie-方式登录" aria-hidden="true">#</a> <strong>Cookie 方式登录</strong></h3><p><code>Cookie</code>可以浏览器登录从浏览器的<code>api</code>中获取，也可用抓包 115 应用获取 cookie，115 应用的有效期比较长，注意 cookie 最后不要有<code>;</code>。</p><br><h3 id="秒传" tabindex="-1"><a class="header-anchor" href="#秒传" aria-hidden="true">#</a> <strong>秒传</strong></h3><ul><li><strong>v.3.27.0</strong> 版本 增强秒传：可以直接通过复制方式来和<code>阿里云盘Open</code>进行相互秒传文件 <ul><li>前提是要从115秒传到阿里云盘Open的文件，阿里云盘Open已经存在，否则就是正常复制任务。</li><li>如果将115的文件秒传到阿里云盘，需要将阿里云盘的秒传选项打开否则为正常模式上传</li></ul></li></ul><p>如果要使用秒传来上传文件建议在自己家用电脑本地搭建一个AList添加一个<code>本地存储</code>和<code>115云盘</code>进行复制秒传这样节省资源。</p><br><h3 id="默认使用的下载方式" tabindex="-1"><a class="header-anchor" href="#默认使用的下载方式" aria-hidden="true">#</a> <strong>默认使用的下载方式</strong></h3>',9),O=l('<h2 id="_115网盘分享" tabindex="-1"><a class="header-anchor" href="#_115网盘分享" aria-hidden="true">#</a> <strong>115网盘分享</strong></h2><p><img src="'+P+'" alt="url_demo"></p><p><code>分享链接ID</code><sup>1</sup> 和 <code>分享链接提取码</code><sup>2</sup> 分别如何获取一目了然</p><h3 id="根文件夹id" tabindex="-1"><a class="header-anchor" href="#根文件夹id" aria-hidden="true">#</a> <strong>根文件夹ID</strong></h3><p>默认为空，挂载整个目录文件。</p><p>文件夹ID 分根文件夹ID和子文件夹ID，下面分别演示了如何获取<code>分享根文件夹目录ID</code><sup>1</sup>以及<code>其它子文件夹目录ID</code><sup>2</sup></p>',6),V=e("p",null,"打开开发者模式(F12)先将请求全部清空，我们进入文件夹，先将全部请求清空，",-1),X=e("p",null,[a("我们再点击根文件夹进入，右侧会有一个新的请求，然后选择"),e("code",null,"载荷"),a("就能看到我们的这个文件夹的ID (cid)")],-1),Y=e("p",null,[e("img",{src:y,alt:"url_demo"})],-1),$=e("p",null,"打开开发者模式(F12)先将请求全部清空，我们进入文件夹，先将全部请求清空，",-1),j=e("p",null,[a("右侧会有一个新的请求，然后选择"),e("code",null,"预览"),a(" 然后进行展开查看，就可以看到其它子文件夹的ID (cid)")],-1),H=e("p",null,[e("img",{src:W,alt:"url_demo"})],-1),ee=l('<br><h3 id="错误提示" tabindex="-1"><a class="header-anchor" href="#错误提示" aria-hidden="true">#</a> <strong>错误提示</strong></h3><p>例如下图所示的115分享链接分享过期，但是分享链接还能打开</p><p><img src="'+T+'" alt="url_demo"></p><p>但是在添加保存时候会出现如下错误码：</p><p><code>Failed init storage but storage is already created: failed init storage: failed to get share snap: json: cannot unmarshal number into Go struct field .data.shareinfo.share_state of type string </code></p><h3 id="默认使用的下载方式-1" tabindex="-1"><a class="header-anchor" href="#默认使用的下载方式-1" aria-hidden="true">#</a> <strong>默认使用的下载方式</strong></h3>',7),ae=I({__name:"115.html",setup(te){const n=d("获取二维码"),t=d(0),u=d(""),h=d(""),s=d(""),K=async()=>{n.value="等待...",t.value=1;const o=await(await fetch(`${g()}/proxy/qrcodeapi.115.com/api/1.0/web/1.0/token`)).json();console.log(o),n.value="使用115网盘 APP 扫描然后点击",t.value=2,s.value={uid:o.data.uid,time:o.data.time.toString(),sign:o.data.sign,_:(new Date().getTime()/1e3).toString()},u.value=`${g()}/qr/?size=400&text=${encodeURIComponent(o.data.qrcode)}`},D=async()=>{t.value=3,n.value="等待...";const o=await(await fetch(`${g()}/proxy/qrcodeapi.115.com/get/status/?uid=${s.value.uid}&time=${s.value.time}&sign=${s.value.sign}&_=${s.value._}`)).json(),{data:{version:b,status:i,msg:f}}=o;if(i!==2){t.value=2,n.value="使用115网盘 APP 扫描然后点击",alert("Status:"+i);return}h.value=s.value.uid,n.value="获取 Token 成功",t.value=4,console.log(o)},q=async()=>{t.value===0&&K(),t.value===2&&D()};return(v,o)=>{const b=m("ExternalLinkIcon"),i=m("Mermaid"),f=m("Tabs");return F(),S("div",null,[J,e("p",null,[a("如 "),e("a",U,[a("https://115.com/?cid=249163533602609229&offset=0&tab=&mode=wangpan"),r(b)])]),w,z,M,e("p",null,[e("button",{disabled:t.value===3||t.value===1,style:{outline:"none",padding:"12px",background:"#70c6be",border:"none","border-radius":"8px",cursor:"pointer","font-size":"20px"},onClick:q},[A,a(" "+x(n.value),1),Q],8,N)]),k(e("div",E,[e("img",{src:u.value},null,8,L)],512),[[C,u.value]]),k(e("div",null,[e("div",Z,[e("p",B,"Token: "+x(h.value),1)])],512),[[C,h.value]]),G,r(i,{id:"mermaid-73",code:"eJzT1dXlKsksyUm1Uni5e8aLdUue7N3/fMqK57Nank5e9Xx575Md3S/27n02befTPf3v98znAqlPy8kvT85ILCpRCHHiUgCC4pLKnFSFZEOFtMycHCvlpKQ0neKSovzsVCvlNDMzKFu3PDOlJMPKqKBCJzk/J78IKJeWhqQ90QiqPS3N3NTcFG6CsbExqgkmBRUQbaVJ6UWJBRkKmSmphgrRCrFg0WRDMJWalwLlRj+bs+bZnF1Pdi9+PqEt1srKqjg/NzU5J7G42NYW4mVbW1u7RKNooLefdWx/sW7f0yXtULNAqlxS0xTgWmBOtDQDK0gyjIaYGxrkE6urB9T4sqFTTxeXaZnJ2UAtCkp6evopRZllqUXF+sn5ubn5eXoZJbk5yuWpSSmJZbrP1057PnWpEpIeYMgSqQcAEWS3Rg=="}),O,r(f,{id:"92",data:[{id:"1分享根文件夹目录ID"},{id:"2其它子文件夹目录ID"}],"tab-id":"115"},{title0:c(({value:p,isActive:_})=>[a("1分享根文件夹目录ID")]),title1:c(({value:p,isActive:_})=>[a("2其它子文件夹目录ID")]),tab0:c(({value:p,isActive:_})=>[V,X,Y]),tab1:c(({value:p,isActive:_})=>[$,j,H]),_:1}),ee,r(i,{id:"mermaid-135",code:"eJzT1dXlKsksyUm1Uni5e8aLdUue7N3/fMqK57Nank5e9Xx575Md3S/27n02befTPf3v98znAqlPy8kvT85ILCpRCHHiUgCC4pLKnFSFREOFtMycHCvlpKQ0neKSovzsVCvlNDMzKFu3PDOlJMPKqKBCJzk/J78IKJeWhqzdCKo9Lc3c1NwUboKxsTGqCSYFFRBtpUnpRYkFGQqZKamGCtEKsWDRREMwlZqXAuVGGxsYxVpZWRXn56Ym5yQWF9sCQQ3EszWJRtFA3z7r2P5i3b6nS9ohRoBVuaSmKcC1wFxmaQZRYBj9bM6aZ3N2Pdm9+PmEtlhdPaDelw2derp2WA1MMoyGqAwN8iGoODknMzkbFJhKenr6KUWZZalFxfrJ+bm5+Xl6GSW5OcrlqUkpiWW6z9dOez51qRKSniQy9CQTrQcAkHnb9A=="})])}}}),se=R(ae,[["__file","115.html.vue"]]);export{se as default};
