import{d as u,r,a3 as h,k as i,u as n,o as l,t as c,_ as g}from"./app-CSTXifqn.js";const k={key:0,class:"loading"},y=["href"],w=u({__name:"DownloadLink",props:{filename:{},type:{},tpl:{}},setup(p){const e={version:r(""),loading:r(!0),promise:null};e.promise||(e.promise=(async()=>{try{const a=await(await fetch("https://dapi.alistgo.com/v0/version/latest")).json();e.version.value=a.version}catch(o){console.error("fetch version failed",o),e.version.value="3.52.0"}finally{e.loading.value=!1}})());const d=e.version,f=e.loading,t=p;h(async()=>{await e.promise});function m(){const o=d.value;if((t.type??"server")==="desktop"){const _=(t.tpl??"alist-desktop_{ver}_aarch64.dmg").replaceAll("{ver}",o);return`https://alistgo.com/download/Alist/desktop-v${o}/${_}`}const v=t.filename??"";return`https://alistgo.com/download/Alist/v${o}/alist-${o}-${v}`}let s="Download";return location.pathname.startsWith("/zh/")&&(s="下载"),(o,a)=>n(f)?(l(),i("span",k,c(n(s))+"...",1)):(l(),i("a",{key:1,href:m(),target:"_blank"},c(n(s)),9,y))}}),$=g(w,[["__scopeId","data-v-14386386"]]);export{$ as D};
