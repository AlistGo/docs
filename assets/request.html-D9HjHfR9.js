import{B as f}from"./Button-BwwjmgQe.js";import{d as u,ad as h,w as g,$ as v,ah as y,_ as m,a0 as z,o as _,g as i,e as l,a,f as d,c as b,r as N}from"./app-DQ_iLqVF.js";import{N as k}from"./Input-PJtdS9Oh.js";import"./browser-CDtCWR8e.js";const w=u({__name:"Request",setup(s,{expose:t}){t();const o={global:["https://login.microsoftonline.com","https://graph.microsoft.com","https://portal.azure.com","Global","https://www.office.com/","0a2991a3-1674-4334-8561-671cc7349960","uw67Q~TCMqdJyH35hlcHHclv~mhNOGx.jfPFm"],cn:["https://login.chinacloudapi.cn","https://microsoftgraph.chinacloudapi.cn","https://portal.azure.cn","21vianet(世纪互联)","https://portal.partner.microsoftonline.cn/Home","50ff485b-3bdc-4bd5-92a1-75b178187673","6v426lmVYKGM.bkuFu24-EqJAr_~~5_HKL"],de:["https://login.microsoftonline.de","https://graph.microsoft.de","https://portal.microsoftazure.de","Azure Germany"],us:["https://login.microsoftonline.us","https://graph.microsoft.us","https://portal.azure.us","Azure US GOV"]},e=h({zone:"global",client_id:"",client_secret:""});e.client_id=o[e.zone][5],e.client_secret=o[e.zone][6],g(()=>e.zone,r=>{e.client_id=o[r][5]||"",e.client_secret=o[r][6]||""});const n={zones:o,data:e,createClient:()=>{window.open(o[e.zone][2]+"/#blade/Microsoft_AAD_RegisteredApps/ApplicationsListBlade","_blank")},getToken:()=>{const r=new URL(`${o[e.zone][0]}/common/oauth2/v2.0/authorize`);r.searchParams.set("client_id",e.client_id),r.searchParams.set("response_type","code"),r.searchParams.set("redirect_uri","https://alist.nn.ci/tool/onedrive/callback"),r.searchParams.set("scope","offline_access files.readwrite.all"),r.searchParams.set("state",window.btoa(`${e.client_id}::${e.client_secret}::${e.zone}`)),window.open(r.toString(),"_self")},get NInput(){return k},get NSelect(){return y},get NButton(){return f},get NSpace(){return v}};return Object.defineProperty(n,"__isScriptSetup",{enumerable:!1,value:!0}),n}});function S(s,t,o,e,c,p){return _(),z(e.NSpace,{vertical:"",size:"large"},{default:i(()=>[t[5]||(t[5]=l("h4",null,"zone",-1)),a(e.NSelect,{value:e.data.zone,"onUpdate:value":t[0]||(t[0]=n=>e.data.zone=n),size:"large",options:Object.keys(e.zones).map(n=>({label:e.zones[n][3],value:n}))},null,8,["value","options"]),t[6]||(t[6]=l("h4",null,"client_id",-1)),a(e.NInput,{size:"large",value:e.data.client_id,"onUpdate:value":t[1]||(t[1]=n=>e.data.client_id=n)},null,8,["value"]),t[7]||(t[7]=l("h4",null,"client_secret",-1)),a(e.NInput,{size:"large",value:e.data.client_secret,"onUpdate:value":t[2]||(t[2]=n=>e.data.client_secret=n)},null,8,["value"]),a(e.NSpace,{justify:"center"},{default:i(()=>[a(e.NButton,{size:"large",secondary:"",onClick:e.createClient},{default:i(()=>t[3]||(t[3]=[d("Create client")])),_:1}),a(e.NButton,{size:"large",type:"primary",onClick:e.getToken},{default:i(()=>t[4]||(t[4]=[d("Get Refresh Token")])),_:1})]),_:1})]),_:1})}const T=m(w,[["render",S],["__scopeId","data-v-386c0b82"],["__file","Request.vue"]]),A=u({__name:"request.html",setup(s,{expose:t}){t();const o={get Onedrive(){return T}};return Object.defineProperty(o,"__isScriptSetup",{enumerable:!1,value:!0}),o}});function O(s,t,o,e,c,p){const n=N("NaiveClient");return _(),b("div",null,[a(n,null,{default:i(()=>[a(e.Onedrive)]),_:1})])}const G=m(A,[["render",O],["__file","request.html.vue"]]),P=JSON.parse('{"path":"/tool/onedrive/request.html","title":"Get Onedrive Refresh Token","lang":"en-US","frontmatter":{"title":"Get Onedrive Refresh Token","toc":false,"head":[["meta",{"property":"og:url","content":"https://alist.nn.ci/tool/onedrive/request.html"}],["meta",{"property":"og:site_name","content":"AList Docs"}],["meta",{"property":"og:title","content":"Get Onedrive Refresh Token"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2023-02-16T12:31:34.000Z"}],["meta",{"property":"article:modified_time","content":"2023-02-16T12:31:34.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Get Onedrive Refresh Token\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2023-02-16T12:31:34.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Andy Hsu\\",\\"url\\":\\"https://i.nn.ci\\"}]}"]]},"headers":[],"git":{"createdTime":1676541915000,"updatedTime":1676550694000,"contributors":[{"name":"Andy Hsu","username":"Andy Hsu","email":"i@nn.ci","commits":3,"url":"https://github.com/Andy Hsu"}]},"readingTime":{"minutes":0.07,"words":20},"filePathRelative":"tool/onedrive/request.md","localizedDate":"February 16, 2023"}');export{G as comp,P as data};
