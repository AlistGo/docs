import{d as D,h as d,r as m,o as I,c as A,b as e,e as o,a as s,I as w,an as y,v as k,w as l,f as c,aw as b,_ as T}from"./app-0AP7Oc51.js";import{_ as O,a as Q,b as z,c as B}from"./add_error-AMr3rcUA.js";const R=c('<h1 id="_115-cloud-share" tabindex="-1"><a class="header-anchor" href="#_115-cloud-share" aria-hidden="true">#</a> 115 Cloud / Share</h1><h2 id="_115-cloud" tabindex="-1"><a class="header-anchor" href="#_115-cloud" aria-hidden="true">#</a> <strong>115 Cloud</strong></h2><div class="hint-container tip"><p class="hint-container-title">Tips</p><p>Due to the limitation of 115 Cloud, the download must carry cookies, so only the proxy function in this program can be used for transfer. (You can use other machines to transfer)</p></div><h3 id="root-folder-id" tabindex="-1"><a class="header-anchor" href="#root-folder-id" aria-hidden="true">#</a> <strong>Root folder ID</strong></h3>',4),Y={href:"https://115.com/?cid=249163533602609229&offset=0&tab=&mode=wangpan",target:"_blank",rel:"noopener noreferrer"},U=e("code",null,"249163533602609229",-1),F=e("br",null,null,-1),q=e("h3",{id:"login-by-qrcode",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#login-by-qrcode","aria-hidden":"true"},"#"),o(),e("strong",null,"Login by QRCode")],-1),E=["disabled"],L=e("br",null,null,-1),W=e("br",null,null,-1),K={style:{margin:"4px"}},M=["src"],N={class:"hint-container info"},X={class:"hint-container-title"},G=c('<br><h3 id="login-by-cookie" tabindex="-1"><a class="header-anchor" href="#login-by-cookie" aria-hidden="true">#</a> <strong>Login by Cookie</strong></h3><p>The <code>cookie</code> is obtained from the request.</p><br><h3 id="rapid-upload" tabindex="-1"><a class="header-anchor" href="#rapid-upload" aria-hidden="true">#</a> <strong>Rapid upload</strong></h3><ul><li><p><strong>v.3.27.0</strong> version Enhanced Rapid upload: You can directly upload files with <code>Alibaba Cloud Disk Open</code> by copying</p><ul><li>The premise is to upload the file from 115 Rapid upload to Alibaba Cloud Disk Open, the file already exists in Alibaba Cloud Disk Open, otherwise it is a normal copy task.</li><li>If you want to transfer 115 cloud disk files to Alibaba Cloud Disk in seconds, you need to turn on the Rapid upload option of Alibaba Cloud Disk, otherwise it will be uploaded in normal mode.</li></ul></li></ul><p>If you want to upload files using Miaochuan, it is recommended to build an AList locally on your home computer and add a <code>local storage</code> and <code>115 cloud disk</code> to copy Miaochuan to save resources.</p><br><h3 id="the-default-download-method-used" tabindex="-1"><a class="header-anchor" href="#the-default-download-method-used" aria-hidden="true">#</a> <strong>The default download method used</strong></h3>',9),H=c('<h2 id="_115-share" tabindex="-1"><a class="header-anchor" href="#_115-share" aria-hidden="true">#</a> 115 Share</h2><p><img src="'+z+'" alt="url_demo"></p><p><code>Sharing link ID</code><sup>1</sup> and <code>Sharing link extraction code</code><sup>2</sup> How to obtain them respectively is clear at a glance.</p><h3 id="root-folder-id-1" tabindex="-1"><a class="header-anchor" href="#root-folder-id-1" aria-hidden="true">#</a> <strong>Root folder ID</strong></h3><p>The default is empty and the entire directory file is mounted.</p><p>The folder IDs are the root folder ID and the subfolder ID respectively. The following demonstrates how to obtain the <code>shared root folder directory ID</code><sup>1</sup> and <code>other subfolder directory ID</code><sup>2</sup> respectively.</p>',6),V=e("p",null,"Open developer mode (F12) and clear all requests first. Before we enter the folder, clear all requests first.",-1),P=e("p",null,[o("Let's click on the root folder to enter. There will be a new request on the right, and then select "),e("code",null,"Load"),o(" to see the ID (cid) of our folder.")],-1),Z=e("p",null,[e("img",{src:O,alt:"url_demo"})],-1),j=e("p",null,"Open developer mode (F12) and clear all requests first. Before we enter the folder, clear all requests first.",-1),J=e("p",null,[o("There will be a new request on the right, then select "),e("code",null,"Preview"),o(" and expand it to see the IDs (cid) of other subfolders.")],-1),$=e("p",null,[e("img",{src:Q,alt:"url_demo"})],-1),ee=c('<br><h3 id="error-tips" tabindex="-1"><a class="header-anchor" href="#error-tips" aria-hidden="true">#</a> <strong>Error Tips</strong></h3><p>For example, the 115 sharing link shown in the picture below has expired, but the sharing link can still be opened.</p><p><img src="'+B+'" alt="url_demo"></p><p>But when adding and saving, the following error code will appear:</p><p><code>Failed init storage but storage is already created: failed init storage: failed to get share snap: json: cannot unmarshal number into Go struct field .data.shareinfo.share_state of type string </code></p><h3 id="the-default-download-method-used-1" tabindex="-1"><a class="header-anchor" href="#the-default-download-method-used-1" aria-hidden="true">#</a> <strong>The default download method used</strong></h3>',7),oe=D({__name:"115.html",setup(te){const r=d("Get QRCode"),t=d(0),h=d(""),u=d(""),i=d(""),x=async()=>{r.value="等待...",t.value=1;const a=await(await fetch(`${b()}/proxy/qrcodeapi.115.com/api/1.0/web/1.0/token`)).json();console.log(a),r.value="Use 115 Cloud APP To Scan Then Click",t.value=2,i.value={uid:a.data.uid,time:a.data.time.toString(),sign:a.data.sign,_:(new Date().getTime()/1e3).toString()},h.value=`${b()}/qr/?size=400&text=${encodeURIComponent(a.data.qrcode)}`},C=async()=>{t.value=3,r.value="Waiting...";const a=await(await fetch(`${b()}/proxy/qrcodeapi.115.com/get/status/?uid=${i.value.uid}&time=${i.value.time}&sign=${i.value.sign}&_=${i.value._}`)).json(),{data:{version:g,status:n,msg:v}}=a;if(n!==2){t.value=2,r.value="Use 115 Cloud APP To Scan Then Click",alert("Status:"+n);return}u.value=i.value.uid,r.value="Get Token Success",t.value=4,console.log(a)},S=async()=>{t.value===0&&x(),t.value===2&&C()};return(_,a)=>{const g=m("ExternalLinkIcon"),n=m("Mermaid"),v=m("Tabs");return I(),A("div",null,[R,e("p",null,[o("Open the official website of 115 Cloud and click the string behind the url when you click into the folder you want to set, such as "),e("a",Y,[o("https://115.com/?cid=249163533602609229&offset=0&tab=&mode=wangpan"),s(g)]),o(", which is "),U]),F,q,e("p",null,[e("button",{disabled:t.value===3||t.value===1,style:{outline:"none",padding:"12px",background:"#70c6be",border:"none","border-radius":"8px",cursor:"pointer","font-size":"20px"},onClick:S},[L,o(" "+w(r.value),1),W],8,E)]),y(e("div",K,[e("img",{src:h.value},null,8,M)],512),[[k,h.value]]),y(e("div",null,[e("div",N,[e("p",X,"Token: "+w(u.value),1)])],512),[[k,u.value]]),G,s(n,{id:"mermaid-67",code:"eJydkE1vwjAMhu/8CguutKztAC3SNmniuNO0aYeKQz6cJSJtuiSlVOLHr7QFscMkNF8S2+/zynYURZOgg0ECn0pzBcI2pbFUQIFBWQHaQ+1RAGtBoKS1Cc+TEySNbbiiLsD7ywS68KE1CDQBqY0hM8bk3Adnd0hmcrUa/1GjRVAkrQ5zbo11XU/KazwdcSnXy/Xy4pBl2W+H++owYDX7crRSoAUmkMO2r9Kkf7AUY5pnd+mWEOJtgdxQ7x+7OI4LHWmadzs6wO9aVwWWYXDphRuUcKHOwz2sBkGSG8upgcrZQ7uNYmoCupIGvcc4evrDliX55nzkHoSPt9dbYW40352uPI3jhXCd1vkFt0Vhy1iFwswaZILuo8p2wnZ6xbB/MPxm5gdtZr9x"}),H,s(v,{id:"86",data:[{id:"1 shared root folder directory ID"},{id:"2 other subfolder directory ID"}],"tab-id":"115"},{title0:l(({value:p,isActive:f})=>[o("1 shared root folder directory ID")]),title1:l(({value:p,isActive:f})=>[o("2 other subfolder directory ID")]),tab0:l(({value:p,isActive:f})=>[V,P,Z]),tab1:l(({value:p,isActive:f})=>[j,J,$]),_:1}),ee,s(n,{id:"mermaid-129",code:"eJydkE1vwjAMhu/8CguutKztAC3SNmniuNO0aYeKQz6cJSJtuiSlVOLHr7QFscMkNF8S2+/zynYURZOgg0ECn0pzBcI2pbFUQIFBWQHaQ+1RAGtBoKS1Cc+TEySNbbiiLsD7ywS68KE1CDQBqY0hM8bk3Adnd0hmcrUa/1GjRVAkrQ5zbo11XU/KazwdcSnXy/Xy4pBl2W+H++owYDX7crRSoAUmkMO2r9Kkf7AUY5pnd+mWEOJtgdxQ7x+7OI4LHWmadzs6wO9aVwWWYXDphRuUcKHOwz2sBkGSG8upgcrZQ7uNYmoCupIGvcc4evrDliX55nzkHoSPt9dbYW40352uPI3jhXCd1vkFt0Vhy1iFwswaZILuo8p2wnZ6xbB/MPxm5gdtZr9x"})])}}}),ie=T(oe,[["__file","115.html.vue"]]);export{ie as default};
