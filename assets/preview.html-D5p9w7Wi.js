import{_ as i}from"./open-with-CHj69XWs.js";import{_ as s,c as t,b as a,o as n}from"./app-DQ_iLqVF.js";const l={};function o(r,e){return n(),t("div",null,e[0]||(e[0]=[a(`<h1 id="preview-settings" tabindex="-1"><a class="header-anchor" href="#preview-settings"><span>Preview settings</span></a></h1><h3 id="text-types" tabindex="-1"><a class="header-anchor" href="#text-types"><span><strong>Text types</strong></span></a></h3><p>The extensions of the files you want to preview as text, split by <code>,</code>, such as <code>txt,md,go,tsx</code>.</p><h3 id="audio-types" tabindex="-1"><a class="header-anchor" href="#audio-types"><span><strong>Audio types</strong></span></a></h3><p>The extensions of the files you want to preview as audio, split by <code>,</code>, such as <code>mp3,wav,m4a</code>.</p><h3 id="video-types" tabindex="-1"><a class="header-anchor" href="#video-types"><span><strong>Video types</strong></span></a></h3><p>The extensions of the files you want to preview as video, split by <code>,</code>, such as <code>mp4,webm,ogg</code>.</p><h3 id="image-types" tabindex="-1"><a class="header-anchor" href="#image-types"><span><strong>Image types</strong></span></a></h3><p>The extensions of the files you want to preview as image, split by <code>,</code>, such as <code>jpg,jpeg,png,gif,webp</code>.</p><h3 id="proxy-types" tabindex="-1"><a class="header-anchor" href="#proxy-types"><span><strong>Proxy types</strong></span></a></h3><p>The extensions of the files you want to separately set to download through proxy</p><h3 id="external-previews" tabindex="-1"><a class="header-anchor" href="#external-previews"><span><strong>External previews</strong></span></a></h3><p>A json object that contains the external preview settings, It is defined as</p><div class="language-typescript line-numbers-mode" data-highlighter="shiki" data-ext="typescript" data-title="typescript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">interface</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  [</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">extensions</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#0184BC;--shiki-dark:#E5C07B;"> string</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    [</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">name</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#0184BC;--shiki-dark:#E5C07B;"> string</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#0184BC;--shiki-dark:#E5C07B;"> string</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> //(url)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>the first key <code>extensions</code> is the file extensions that split by <code>,</code>(if it&#39;s startsWith <code>/</code>, it will be considered a regular expression), and the value is also a <code>key-value</code> object, the key is the preview name, and the value is the external url.</p><p>For the external url, we provide some variables for you to use:</p><p>Basic variable:</p><ul><li><code>$url</code>: the file url</li><li><code>$durl</code>: the file of alist URL</li><li><code>$name</code>: the file name</li></ul><p>Extended variables:<br> Add [eb_] before the basic variable, where e means <code>encodeURIComponent</code>, b means <code>base64</code>, such as</p><ul><li><code>$e_url</code>: encodeURIComponent($url)</li><li><code>$b_url</code>: btoa($url)</li><li><code>$eb_url</code>: encodeURIComponent(btoa($url))</li></ul><p>Finally, the <code>External previews</code> will displayed a <code>Open with</code> menu while current file matched the <code>extensions</code>.</p><p>For example, set <code>External previews</code> to</p><div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" data-title="json" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  &quot;txt&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    &quot;Notepad&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;notepad://$url&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  },</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  &quot;/.*/&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    &quot;VSCode&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;vscode://$url&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>when we enter a file with the extension <code>txt</code>, it will show:</p><p><img src="`+i+`" alt="Open-with" loading="lazy"></p><h3 id="iframe-previews" tabindex="-1"><a class="header-anchor" href="#iframe-previews"><span><strong>Iframe previews</strong></span></a></h3><p>Similar to <code>External previews</code>, but it will embed an iframe in current page directly.</p><div class="hint-container tip"><p class="hint-container-title">Tips</p><p>If you want to use self-deployed onlyoffice to preview office files, you can add the configuration like this here:</p><div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" data-title="json" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  &quot;doc,docx,xls,xlsx,ppt,pptx&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    &quot;OnlyOffice&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;you_only_office_url&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><h3 id="audio-cover" tabindex="-1"><a class="header-anchor" href="#audio-cover"><span><strong>Audio cover</strong></span></a></h3><p>The default audio cover.</p><h3 id="audio-autoplay" tabindex="-1"><a class="header-anchor" href="#audio-autoplay"><span><strong>Audio autoplay</strong></span></a></h3><p>Whether to automatically play audio files.</p><h3 id="video-autoplay" tabindex="-1"><a class="header-anchor" href="#video-autoplay"><span><strong>Video autoplay</strong></span></a></h3><p>Whether to automatically play video files.</p><h3 id="proxy-ignore-headers" tabindex="-1"><a class="header-anchor" href="#proxy-ignore-headers"><span><strong>Proxy ignore headers</strong></span></a></h3><p>For details, please check: <strong><a href="https://github.com/alist-org/alist/issues/2763" target="_blank" rel="noopener noreferrer">https://github.com/alist-org/alist/issues/2763</a></strong></p><h3 id="force-preview" tabindex="-1"><a class="header-anchor" href="#force-preview"><span><strong>Force preview</strong></span></a></h3><p>We can force the preview type through the <code>type</code> query parameter.</p><p>Available values:</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>UNKNOWN</span></span>
<span class="line"><span>FOLDER</span></span>
<span class="line"><span>VIDEO</span></span>
<span class="line"><span>AUDIO</span></span>
<span class="line"><span>TEXT</span></span>
<span class="line"><span>IMAGE</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Example: <code>http://yourdomain/test-file.ahk?type=text</code></p>`,41)]))}const d=s(l,[["render",o],["__file","preview.html.vue"]]),c=JSON.parse('{"path":"/config/preview.html","title":"Preview settings","lang":"en-US","frontmatter":{"icon":"iconfont icon-preview","order":7,"category":["Config"],"tag":["Config","Settings"],"sticky":true,"star":true,"description":"Preview settings Text types The extensions of the files you want to preview as text, split by ,, such as txt,md,go,tsx. Audio types The extensions of the files you want to previ...","head":[["link",{"rel":"alternate","hreflang":"zh-cn","href":"https://alist.nn.ci/zh/config/preview.html"}],["meta",{"property":"og:url","content":"https://alist.nn.ci/config/preview.html"}],["meta",{"property":"og:site_name","content":"AList Docs"}],["meta",{"property":"og:title","content":"Preview settings"}],["meta",{"property":"og:description","content":"Preview settings Text types The extensions of the files you want to preview as text, split by ,, such as txt,md,go,tsx. Audio types The extensions of the files you want to previ..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://alist.nn.ci/img/config/open-with.png"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:locale:alternate","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-05-26T07:13:19.000Z"}],["meta",{"property":"article:tag","content":"Config"}],["meta",{"property":"article:tag","content":"Settings"}],["meta",{"property":"article:modified_time","content":"2024-05-26T07:13:19.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Preview settings\\",\\"image\\":[\\"https://alist.nn.ci/img/config/open-with.png\\"],\\"dateModified\\":\\"2024-05-26T07:13:19.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Andy Hsu\\",\\"url\\":\\"https://i.nn.ci\\"}]}"]]},"headers":[{"level":3,"title":"Text types","slug":"text-types","link":"#text-types","children":[]},{"level":3,"title":"Audio types","slug":"audio-types","link":"#audio-types","children":[]},{"level":3,"title":"Video types","slug":"video-types","link":"#video-types","children":[]},{"level":3,"title":"Image types","slug":"image-types","link":"#image-types","children":[]},{"level":3,"title":"Proxy types","slug":"proxy-types","link":"#proxy-types","children":[]},{"level":3,"title":"External previews","slug":"external-previews","link":"#external-previews","children":[]},{"level":3,"title":"Iframe previews","slug":"iframe-previews","link":"#iframe-previews","children":[]},{"level":3,"title":"Audio cover","slug":"audio-cover","link":"#audio-cover","children":[]},{"level":3,"title":"Audio autoplay","slug":"audio-autoplay","link":"#audio-autoplay","children":[]},{"level":3,"title":"Video autoplay","slug":"video-autoplay","link":"#video-autoplay","children":[]},{"level":3,"title":"Proxy ignore headers","slug":"proxy-ignore-headers","link":"#proxy-ignore-headers","children":[]},{"level":3,"title":"Force preview","slug":"force-preview","link":"#force-preview","children":[]}],"git":{"createdTime":1662556125000,"updatedTime":1716707599000,"contributors":[{"name":"Noah Hsu","username":"Noah Hsu","email":"i@nn.ci","commits":3,"url":"https://github.com/Noah Hsu"},{"name":"安稳","username":"安稳","email":"56105412+anwen-anyi@users.noreply.github.com","commits":3,"url":"https://github.com/安稳"},{"name":"zhanghaoxiang","username":"zhanghaoxiang","email":"85926883+balh55y@users.noreply.github.com","commits":1,"url":"https://github.com/zhanghaoxiang"},{"name":"Andy Hsu","username":"Andy Hsu","email":"i@nn.ci","commits":2,"url":"https://github.com/Andy Hsu"},{"name":"potoo","username":"potoo","email":"34411681+potoo0@users.noreply.github.com","commits":1,"url":"https://github.com/potoo"}]},"readingTime":{"minutes":1.46,"words":437},"filePathRelative":"config/preview.md","localizedDate":"September 7, 2022","autoDesc":true}');export{d as comp,c as data};
