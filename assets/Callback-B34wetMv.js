import{d as b,r as N,c as o,u as r,o as s,w as c,e as l,t as n,f as a,b as g,a as w,N as k,a3 as h,g as C,_ as V}from"./app-j3xFXwuC.js";import{N as m}from"./Alert-BHEJ2fkF.js";import{N as x}from"./Input-QyNt9ZR8.js";const B="hq9yQ9w9kR4YHj1kyYafLygVocobh7Sf",H="YH2VpZcFJHYNnV6vLfHQXDBhcE7ZChyE",S="https://alistgo.com/tool/baidu/callback",Y=b({__name:"Callback",setup(E){const i=new URL(window.location.href),u=i.searchParams.get("code"),p=i.searchParams.get("error"),y=i.searchParams.get("error_description"),t=N();return u&&!p&&(async()=>{const e=await(await fetch(`${C()}/alist/baidu/get_refresh_token?code=${u}`)).json();t.value=e})(),(v,e)=>!r(u)||r(p)?(s(),o(r(m),{key:0,title:r(p)||"Error",type:"error"},{default:c(()=>[l(n(r(y)),1)]),_:1},8,["title"])):(s(),o(r(k),{key:1,vertical:"",size:"large"},{default:c(()=>{var d,_,f;return[a("p",null,[e[0]||(e[0]=a("b",null,"client_id: ",-1)),l(n(B))]),a("p",null,[e[1]||(e[1]=a("b",null,"client_secret: ",-1)),l(n(H))]),a("p",null,[e[2]||(e[2]=a("b",null,"redirect_uri: ",-1)),l(n(S))]),(d=t.value)!=null&&d.error||(_=t.value)!=null&&_.error_description?(s(),o(r(m),{key:0,title:(f=t.value)==null?void 0:f.error,type:"error"},{default:c(()=>[l(n(t.value.error_description),1)]),_:1},8,["title"])):g("",!0),w(r(k),{vertical:""},{default:c(()=>[e[3]||(e[3]=a("b",null,"refresh_token:",-1)),t.value?(s(),o(r(x),{key:1,type:"textarea",autosize:"",readonly:"",value:t.value.refresh_token},null,8,["value"])):(s(),o(r(h),{key:0}))]),_:1})]}),_:1}))}}),z=V(Y,[["__scopeId","data-v-e2ec4e6c"]]);export{z as C};
